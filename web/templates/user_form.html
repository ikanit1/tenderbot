{% extends "base.html" %}
{% block title %}Редактирование пользователя {{ user.id }} — TenderBot Admin{% endblock %}
{% block content %}
<h1>Редактирование: {{ user.full_name }}</h1>
<div style="margin-bottom: 1rem;">
    <a href="/users/{{ user.id }}" style="padding: 0.5rem 1rem; background: #6c757d; color: white; text-decoration: none; border-radius: 4px;">← К карточке</a>
    <a href="/users" style="padding: 0.5rem 1rem; background: #6c757d; color: white; text-decoration: none; border-radius: 4px; margin-left: 0.5rem;">К списку</a>
</div>

<form method="post" action="/users/{{ user.id }}/edit">
    <div style="margin-bottom: 1rem;">
        <label for="full_name">ФИО:</label><br>
        <input type="text" id="full_name" name="full_name" value="{{ user.full_name }}" required style="width: 100%; max-width: 400px; padding: 0.5rem;">
    </div>
    <div style="margin-bottom: 1rem;">
        <label for="city">Город:</label><br>
        <input type="text" id="city" name="city" value="{{ user.city }}" required style="width: 100%; max-width: 400px; padding: 0.5rem;">
    </div>
    <div style="margin-bottom: 1rem;">
        <label for="phone">Телефон:</label><br>
        <input type="text" id="phone" name="phone" value="{{ user.phone }}" required style="width: 100%; max-width: 400px; padding: 0.5rem;">
    </div>
    <div style="margin-bottom: 1rem;">
        <label>Роль:</label><br>
        <select name="role" style="padding: 0.5rem;">
            {% for r in roles %}
            <option value="{{ r }}" {% if user.role == r %}selected{% endif %}>{{ r }}</option>
            {% endfor %}
        </select>
    </div>
    <div style="margin-bottom: 1rem;">
        <label>Статус:</label><br>
        <select name="status" style="padding: 0.5rem;">
            {% for s in statuses %}
            <option value="{{ s }}" {% if user.status == s %}selected{% endif %}>{{ s }}</option>
            {% endfor %}
        </select>
    </div>
    <div style="margin-bottom: 1rem;">
        <label>Навыки (отметьте несколько):</label><br>
        {% for tag in skill_tags %}
        <label style="display: inline-block; margin-right: 1rem; margin-top: 0.5rem;">
            <input type="checkbox" name="skills" value="{{ tag }}" {% if user.skills and tag in user.skills %}checked{% endif %}> {{ tag }}
        </label>
        {% endfor %}
    </div>
    <div style="margin-top: 1.5rem;">
        <button type="submit" style="padding: 0.5rem 1.5rem; background: #28a745; color: white; border: none; cursor: pointer; border-radius: 4px;">Сохранить</button>
        <a href="/users/{{ user.id }}" style="margin-left: 1rem; padding: 0.5rem 1.5rem; background: #6c757d; color: white; text-decoration: none; border-radius: 4px; display: inline-block;">Отмена</a>
    </div>
</form>
{% endblock %}
